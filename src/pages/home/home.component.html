<div class="home-container">
  <div class="delivery-banner">ðŸš« Orders Accepted Only Between <strong>10:00 AM â€“ 8:00 PM</strong></div>
  <!-- SEARCH BAR -->
  <div class="search-bar">
    <input
      (input)="onSearch($event)"
      placeholder="Search products..."
      type="text"
    />
  </div>

  <!-- CATEGORY FILTER -->
  <div class="category-list">
    <button
      (click)="selectCategory(cat)"
      *ngFor="let cat of categories"
      [class.active]="selectedCategory === cat"
    >
      {{ cat | titlecase }}
    </button>
  </div>

  <!-- LOADING -->
  <div *ngIf="loading" class="loading">
    Loading products...
  </div>

  <!-- PRODUCT LIST -->
  <div *ngIf="!loading" class="product-grid">
    <div *ngFor="let p of filteredProducts" class="product-card">
      <img [src]="p.image" alt="product"/>

      <div class="product-info">
        <h3>{{ p.name }}</h3>
        <p class="desc">{{ p.description }}</p>

        <div class="footer">

          <span class="price">â‚¹{{ p.price }}</span>

          <!-- IF NOT IN CART -->
          <button
            (click)="increaseQty(p)"
            *ngIf="getCartQty(p._id) === 0">
            Add
          </button>

          <!-- IF IN CART -->
          <div
            *ngIf="getCartQty(p._id) > 0"
            class="qty-box">

            <button (click)="decreaseQty(p)">âˆ’</button>

            <span>{{ getCartQty(p._id) }}</span>

            <button (click)="increaseQty(p)">+</button>
          </div>

        </div>

      </div>
    </div>

    <div *ngIf="filteredProducts.length === 0" class="empty">
      No products found
    </div>
  </div>
  <div (click)=openCart() *ngIf="cartCount > 0" class="floating-cart">
    ðŸ›’
    <span class="cart-count">
        {{ cartCount }}
      </span>
  </div>

</div>
