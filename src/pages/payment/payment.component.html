<div class="payment-page">

  <!-- Net Amount -->
  <div class="amount-box">
    <span>Total Payable</span>
    <strong>â‚¹{{ netAmount }}</strong>
  </div>

  <!-- Payment Options -->
  <div class="options">
    <button
      (click)="selectMode('cod')"
      [class.active]="paymentMode === 'cod'"
    >
      ðŸšš Pay on Delivery
    </button>

    <button
      (click)="selectMode('online')"
      [class.active]="paymentMode === 'online'"
    >
      ðŸ’³ Pay Online Now
    </button>
  </div>

  <!-- COD -->
  <div *ngIf="paymentMode === 'cod'" class="cod-box">
    <p>You will pay when order is delivered.</p>
    <button (click)="confirmCOD()" class="confirm-btn">
      Confirm Order
    </button>
  </div>

  <!-- Online -->
  <div *ngIf="paymentMode === 'online'" class="online-box">
    <label>Amount Paying Now</label>
    <input
      (input)="validateAmount()"
      [(ngModel)]="onlinePaidAmount"
      [max]="netAmount"
      [min]="1"
      placeholder="Enter amount"
      type="number"
    />

    <p *ngIf="amountError" class="error">
      Amount cannot be more than â‚¹{{ netAmount }}
    </p>

    <div>
      <img [src]="environment.paymentImage" alt="payment" height="60%" width="80%">
    </div>
    <!--    <a-->
    <!--      [href]="environment.paymentImage"-->
    <!--      class="download-btn"-->
    <!--      download-->
    <!--    >-->
    <!--      Download qrcode-->
    <!--    </a>-->

    <label>Upload Payment Screenshot</label>
    <input (change)="uploadScreenshot($event)" type="file"/>

    <div *ngIf="uploading">Uploading...</div>
    <img
      *ngIf="screenshotUrl"
      [src]="screenshotUrl"
      class="preview"
    />
    <!--    <button (click)="payNow()" class="pay-now-btn">Pay Now</button>-->


    <button
      (click)="submitOnlinePayment()"
      [disabled]="amountError || !screenshotUrl"
      class="confirm-btn"
    >
      Submit Payment
    </button>


  </div>

</div>
